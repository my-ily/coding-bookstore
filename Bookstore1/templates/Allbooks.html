{% extends 'base1.html' %}

{% block content %}
<div class="container my-5 p-4">
  <h2 class="mb-4 text-primary border-start border-4 ps-3">All Programming Books</h2>

<div class="row row-cols-2 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3 mt-3">

    {% for book in all_books %}
      <div class="col">
        <div class="card book-card h-100 shadow-sm border-0">
   
          <a href="{% url 'detail' book.id %}" class="text-decoration-none text-dark">
            <img src="{{ book.thumbnail }}" class="card-img-top" alt="{{ book.title }}">
        


          <div class="card-body d-flex flex-column">
            <h5 class="card-title fw-bold">{{ book.title }}</h5>
            <p class="card-text text-muted mb-3">{{ book.authors }}</p>
  </a>
       
            <div class="d-flex justify-content-between align-items-center mt-auto">
              <a href="{% url 'detail' book.id %}" class="btn btn-sm btn-primary px-3">
                Details
              </a>

              <form method="post" action="{% url 'add_to_wishlist' book_id=book.id %}" class="mb-0">
                {% csrf_token %}
                <input type="hidden" name="title" value="{{ book.title }}">
                <input type="hidden" name="authors" value="{{ book.authors }}">
                <input type="hidden" name="thumbnail" value="{{ book.thumbnail }}">
                <input type="hidden" name="infoLink" value="https://books.google.com/books?id={{ book.id }}">
                <button type="submit" class="btn btn-outline-secondary btn-sm rounded-circle">
                  <i class="bi bi-heart"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

<style>
.book-card {
  border-radius: 16px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  overflow: hidden;
}
.book-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
}
.book-card img {
  height: 220px;
  object-fit: cover;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
}
.book-card .card-title {
  font-size: 1rem;
  line-height: 1.4;
}
.book-card .btn {
  font-size: 0.85rem;
}
</style>
